<!-- Widok konfiguratora maszynowni ≈Çadowany do calculator.html -->
    <section class="configurator-page results-view visible">
      <!-- KONFIGURATOR MASZYNOWNI ‚Äì modu≈Çowy, montowany w wynikach -->
      <section id="section-configurator" class="machine-room-configurator-section glass-box">
        <div id="configurator-root" class="configurator-mount" data-config-source="results">
          <!-- Konfigurator - struktura zgodna z configurator-unified.js -->
          <div id="configurator-app" class="configurator-container">
            <!-- Placeholder dla sticky selections bar (zapobiega skokowi tre≈õci) -->
            <div class="selections-sticky-placeholder" id="selections-sticky-placeholder" style="display: none;"></div>

            <!-- STICKY PASEK Z WYBRANYMI KOMPONENTAMI -->
            <div class="configurator-selections-bar" id="configurator-selections-bar">
              <div class="selections-inner">
                <div class="selection-item" data-type="pompa">
                  <span class="selection-label">Pompa ciep≈Ça:</span>
                  <span class="selection-value">‚Äî</span>
                </div>
                <div class="selection-item" data-type="cwu">
                  <span class="selection-label">Zasobnik CWU:</span>
                  <span class="selection-value">‚Äî</span>
                </div>
                <div class="selection-item" data-type="bufor">
                  <span class="selection-label">Bufor CO:</span>
                  <span class="selection-value">‚Äî</span>
                </div>
                <div class="selection-item" data-type="cyrkulacja">
                  <span class="selection-label">Cyrkulacja CWU:</span>
                  <span class="selection-value">‚Äî</span>
                </div>
                <div class="selection-item" data-type="service">
                  <span class="selection-label">Service Cloud:</span>
                  <span class="selection-value">‚Äî</span>
                </div>
                <div class="selection-item" data-type="posadowienie">
                  <span class="selection-label">Posadowienie:</span>
                  <span class="selection-value">‚Äî</span>
                </div>
                <div class="selection-item" data-type="reduktor">
                  <span class="selection-label">Reduktor:</span>
                  <span class="selection-value">‚Äî</span>
                </div>
                <div class="selection-item" data-type="uzdatnianie">
                  <span class="selection-label">Uzdatnianie:</span>
                  <span class="selection-value">‚Äî</span>
                </div>
              </div>
            </div>

            <!-- Kontener z krokami -->
            <div id="configurator-steps">
              <!-- KROK 1: POMPA CIEP≈ÅA -->
              <section class="config-step section-container" data-step-key="pompa">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">‚ö°</div>
                    <div>
                      <div class="section-step">KROK 1/10</div>
                      <h2 class="section-title">Pompa ciep≈Ça</h2>
                      <p class="section-description">
                        Na podstawie oblicze≈Ñ rekomendujemy pompƒô o odpowiedniej mocy. Wybierz
                        preferowany model.
                      </p>
                    </div>
                  </div>
                </div>
                <div class="options-grid">
                  <!-- Karty bƒôdƒÖ renderowane dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 2: ZASOBNIK CWU -->
              <section class="config-step section-container" data-step-key="cwu">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">üíß</div>
                    <div>
                      <div class="section-step">KROK 2/10</div>
                      <h2 class="section-title">Zasobnik CWU</h2>
                      <p class="section-description">
                        Wybierz rodzaj wyko≈Ñczenia wewnƒôtrznego zasobnika.
                      </p>
                    </div>
                  </div>
                </div>
                <div class="options-grid">
                  <!-- Karty bƒôdƒÖ renderowane dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 3: PYTANIA INSTALACYJNE (Hydraulika CO) -->
              <section class="config-step section-container" data-step-key="hydraulics_inputs">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">üß©</div>
                    <div>
                      <div class="section-step">KROK 3/10</div>
                      <h2 class="section-title">Pytania instalacyjne</h2>
                      <p class="section-description">
                        Te 3 kr√≥tkie odpowiedzi pozwalajƒÖ silnikowi dobraƒá: bufor magazynowy,
                        sprzƒôg≈Ço (separator) lub ochronƒô przep≈Çywu.<br>Twoje odpowiedzi pomogƒÖ dobraƒá odpowiednie komponenty w nastƒôpnym kroku.
                      </p>
                    </div>
                  </div>
                </div>

                <div class="options-grid" id="hydraulics-inputs-grid">
                  <!-- Renderowane dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 3: BUFOR CO -->
              <section class="config-step section-container" data-step-key="bufor">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">üì¶</div>
                    <div>
                      <div class="section-step">KROK 4/10</div>
                      <h2 class="section-title">Bufor / sprzƒôg≈Ço / ochrona przep≈Çywu</h2>
                      <p class="section-description">
                        Ta sekcja pokazuje wynik silnika: czy potrzebujesz bufora (magazyn energii),
                        sprzƒôg≈Ça (separacja), ochrony przep≈Çywu, czy niczego.
                      </p>
                    </div>
                  </div>
                </div>
                <div class="options-grid">
                  <!-- Karty bƒôdƒÖ renderowane dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 4: CYRKULACJA CWU -->
              <section class="config-step section-container" data-step-key="cyrkulacja">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">üîÑ</div>
                    <div>
                      <div class="section-step">KROK 5/10</div>
                      <h2 class="section-title">Cyrkulacja CWU</h2>
                      <p class="section-description">
                        System cyrkulacji zapewnia natychmiastowy dostƒôp do ciep≈Çej wody.
                      </p>
                    </div>
                  </div>
                </div>
                <div class="options-grid">
                  <!-- Karty bƒôdƒÖ renderowane dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 5: SERVICE CLOUD -->
              <section class="config-step section-container" data-step-key="service">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">‚òÅÔ∏è</div>
                    <div>
                      <div class="section-step">KROK 6/10</div>
                      <h2 class="section-title">Service Cloud</h2>
                      <p class="section-description">
                        Zdalne monitorowanie i serwis instalacji przez profesjonalist√≥w.
                      </p>
                    </div>
                  </div>
                </div>
                <div class="options-grid">
                  <!-- Karta bƒôdzie renderowana dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 6: POSADOWIENIE -->
              <section class="config-step section-container" data-step-key="posadowienie">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">üèóÔ∏è</div>
                    <div>
                      <div class="section-step">KROK 7/10</div>
                      <h2 class="section-title">Posadowienie jednostki zewnƒôtrznej</h2>
                      <p class="section-description">
                        Spos√≥b monta≈ºu jednostki zewnƒôtrznej pompy ciep≈Ça.
                      </p>
                    </div>
                  </div>
                </div>
                <div class="options-grid">
                  <!-- Karty bƒôdƒÖ renderowane dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 7: REDUKTOR -->
              <section class="config-step section-container" data-step-key="reduktor">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">üîß</div>
                    <div>
                      <div class="section-step">KROK 8/10</div>
                      <h2 class="section-title">Reduktor ci≈õnienia</h2>
                      <p class="section-description">
                        Reduktor chroni instalacjƒô przed zbyt wysokim ci≈õnieniem wody.
                      </p>
                    </div>
                  </div>
                </div>
                <div class="options-grid">
                  <!-- Karta bƒôdzie renderowana dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 8: UZDATNIANIE WODY -->
              <section class="config-step section-container" data-step-key="woda">
                <div class="section-header">
                  <div class="section-header-content">
                    <div class="section-icon">üíß</div>
                    <div>
                      <div class="section-step">KROK 9/10</div>
                      <h2 class="section-title">Stacja uzdatniania wody</h2>
                      <p class="section-description">
                        Ochrona instalacji przed kamieniem i korozjƒÖ.
                      </p>
                    </div>
                  </div>
                </div>
                <div class="options-grid">
                  <!-- Karty bƒôdƒÖ renderowane dynamicznie przez configurator-unified.js -->
                </div>
              </section>

              <!-- KROK 10: PODSUMOWANIE -->
              <section class="config-step" data-step-key="summary">
                <div class="summary-header">
                  <div class="section-step">KROK 10/10</div>
                  <h1>Podsumowanie konfiguracji</h1>
                  <p>Sprawd≈∫ wybrane komponenty przed z≈Ço≈ºeniem zam√≥wienia</p>
                  <div class="summary-badge">Kompletna konfiguracja maszynowni</div>
                </div>
                <table class="summary-table">
                  <tbody id="summary-rows">
                    <!-- Wype≈Çniane przez configurator-unified.js -->
                  </tbody>
                </table>
                <div class="summary-actions">
                  <button class="btn btn-primary" data-action="download-pdf">
                    Pobierz raport PDF
                  </button>
                  <button class="btn" data-action="send-email">Wy≈õlij na email</button>
                  <button class="btn" data-action="print">Drukuj</button>
                  <button class="btn" data-action="back-to-config">Wr√≥ƒá do konfiguracji</button>
                </div>
              </section>
            </div>

            <!-- Nawigacja -->
            <div class="step-nav">
              <button type="button" class="btn-step" id="nav-prev" disabled>‚Üê Wstecz</button>
              <button type="button" class="btn-step btn-next" id="nav-next">Dalej ‚Üí</button>
            </div>
          </div>
        </div>
      </section>

      <!-- PRZYCISKI FUNKCJONALNE (dla konfiguratora) -->
      <div class="results-actions glass-box">
        <div class="action-row primary-actions">
          <button type="button" id="download-pdf-btn">Pobierz raport PDF</button>
        </div>

        <!-- FORMULARZ KONTAKTOWY DLA PDF (ukryty domy≈õlnie) -->
        <div id="pdf-contact-form" class="pdf-contact-form hidden">
          <div class="contact-form-content">
            <div class="form-header">
              <h4><i class="fas fa-envelope"></i> Otrzymaj pe≈Çny raport energetyczny</h4>
              <p>Pe≈Çny raport energetyczny z doborem mocy pompy otrzymasz drogƒÖ mailowƒÖ</p>
            </div>

            <div class="form-fields">
              <div class="form-field">
                <label for="customer-email">Email <span class="required">*</span></label>
                <input
                  type="email"
                  id="customer-email"
                  class="contact-input"
                  placeholder="twoj@email.pl"
                  required
                />
              </div>

              <div class="form-field">
                <label for="customer-postal-code"
                  >Kod pocztowy <span class="required">*</span></label
                >
                <input
                  type="text"
                  id="customer-postal-code"
                  class="contact-input"
                  placeholder="00-000"
                  maxlength="6"
                  required
                />
                <small class="field-note">Dla cel√≥w statystycznych</small>
              </div>
            </div>

            <div class="form-actions">
              <button class="action-btn primary full-width" data-action="collect-customer-data">
                <i class="fas fa-paper-plane"></i> Odbierz raport cieplny PDF
              </button>
              <button class="action-btn cancel-btn" data-action="hide-pdf-form">
                <i class="fas fa-times"></i> Anuluj
              </button>
            </div>
          </div>
        </div>

        <div class="action-row secondary-actions">
          <button class="action-btn secondary" data-action="go-back">
            <i class="fas fa-arrow-left"></i> Wr√≥ƒá do formularza
          </button>
          <button class="action-btn tertiary" data-action="start-new">
            <i class="fas fa-calculator"></i> Nowe obliczenie
          </button>
        </div>
      </div>
    </section>
